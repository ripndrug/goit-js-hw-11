{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class='form-item'>\n            <a href='${largeImageURL}'><img src='${webformatURL}' alt='${tags}' width='360' class='form-image'>\n                <div class='stats-container'>\n                    <div class='stats-info'>\n                        <h2 class='stats-title'>Likes</h2>\n                        <p class='stats-text'>${likes}</p>\n                    </div>\n                    <div class='stats-info'>\n                        <h2 class='stats-title'>Views</h2>\n                        <p class='stats-text'>${views}</p>\n                    </div>\n                    <div class='stats-info'>\n                        <h2 class='stats-title'>Comments</h2>\n                        <p class='stats-text'>${comments}</p>\n                    </div>\n                    <div class='stats-info'>\n                        <h2 class='stats-title'>Downloads</h2>\n                        <p class='stats-text'>${downloads}</p>\n                    </div>\n                </div>\n            </a>\n        </li>\n        `).join('');\n}","export function fetchData(url = BASE_URL) {\n    return fetch(url)\n        .then(res => {\n            if (!res.ok) {\n                throw new Error(res.statusText);\n            }\n            return res.json();\n    })\n}","import { createMarkup } from \"./js/render-functions\";\nimport { fetchData } from \"./js/pixabay-api\";\n\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst form = document.querySelector('form');\nconst container = document.querySelector('.container');\n\nconst API_KEY = '38646847-22fc34a8305fe75e48b944d63';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nform.addEventListener('submit', handleSubmit);\n\nconst lightbox = new SimpleLightbox('.container a')\n\nlightbox.on('shown.simplelightbox', function() {\n    lightbox.options.captionsData = 'alt';\n});\n\nfunction handleSubmit(e) {\n    e.preventDefault();\n\n    const input = e.target.elements.input;\n\n    if (input.value === '' || !input.value.trim()) {\n        return;\n    }\n\n    container.innerHTML = '';\n    \n    const loader = document.createElement('span');\n    loader.classList.add('loader');\n    container.appendChild(loader);\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: input.value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    })\n\n    fetchData(`${BASE_URL}?${params}`)\n        .then(data => {\n            if (data.total === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });\n            }\n            \n            container.innerHTML = createMarkup(data.hits);\n            lightbox.refresh();\n        })\n        .catch(error => iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                }))\n        .finally(() => {\n            loader.remove();\n            e.target.reset()\n        })\n}"],"names":["createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","fetchData","url","res","form","container","API_KEY","BASE_URL","handleSubmit","lightbox","SimpleLightbox","e","input","loader","params","data","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAaC,EAAK,CAC9B,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,uBAE1EL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAI7BC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAKhD,EAAE,KAAK,EAAE,CAClB,CCzBO,SAASC,EAAUC,EAAM,SAAU,CACtC,OAAO,MAAMA,CAAG,EACX,KAAKC,GAAO,CACT,GAAI,CAACA,EAAI,GACL,MAAM,IAAI,MAAMA,EAAI,UAAU,EAElC,OAAOA,EAAI,MACvB,CAAK,CACL,CCMA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAY,SAAS,cAAc,YAAY,EAE/CC,EAAU,qCACVC,EAAW,2BAEjBH,EAAK,iBAAiB,SAAUI,CAAY,EAE5C,MAAMC,EAAW,IAAIC,EAAe,cAAc,EAElDD,EAAS,GAAG,uBAAwB,UAAW,CAC3CA,EAAS,QAAQ,aAAe,KACpC,CAAC,EAED,SAASD,EAAaG,EAAG,CACrBA,EAAE,eAAc,EAEhB,MAAMC,EAAQD,EAAE,OAAO,SAAS,MAEhC,GAAIC,EAAM,QAAU,IAAM,CAACA,EAAM,MAAM,OACnC,OAGJP,EAAU,UAAY,GAEtB,MAAMQ,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BR,EAAU,YAAYQ,CAAM,EAE5B,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKR,EACL,EAAGM,EAAM,MACT,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAEDX,EAAU,GAAGM,CAAQ,IAAIO,CAAM,EAAE,EAC5B,KAAKC,GAAQ,CACNA,EAAK,QAAU,GACfC,EAAS,MAAM,CACX,QAAS,0EAC7B,CAAiB,EAGLX,EAAU,UAAYb,EAAauB,EAAK,IAAI,EAC5CN,EAAS,QAAO,CAC5B,CAAS,EACA,MAAMQ,GAASD,EAAS,MAAM,CACnB,QAAS,0EAC7B,CAAiB,CAAC,EACT,QAAQ,IAAM,CACXH,EAAO,OAAM,EACbF,EAAE,OAAO,MAAO,CAC5B,CAAS,CACT"}